/*									  */
/*  Gauss-Legendre Integration Rule   */
/*									  */

#define _CRT_SECURE_NO_WARNINGS

#include<stdio.h>
#include<stdlib.h>
#define f(x) (x)*(x)

void main()
{
	double a, b, jaco1, jaco2, x, area;
	int j, n;

	double w[5][6] = {
			 1.0,          1.0,            0,            0,            0,           0,
	0.5555555556, 0.5555555556, 0.8888888889,            0,            0,           0,
	0.3478548451, 0.3478548451, 0.6521451549, 0.6521451549,            0,           0,
	0.2369268851, 0.2369268851, 0.4786286705, 0.4786286705, 0.5688888888,           0,
	0.1713244924, 0.1713244924, 0.3607615730, 0.3607615730, 0.4679139346, 0.4679139346 };

	double t[5][6] = {
		-0.5773502692, 0.5773502692, 0, 0, 0, 0,
		-0.7745966692, 0.7745966692, 0, 0, 0, 0,
		-0.8611363116, 0.8611363116, -0.3399810436, 0.3399810436, 0, 0,
		-0.9061798549, 0.9061798549, -0.5384693101, 0.5384693101, 0, 0,
		-0.9324695142, 0.9324695142, -0.6612093865, 0.6612093865, -0.2386191861, 0.2386191861 };

	printf("Enter [a], [b], [n] :\n");
	scanf("%lf%lf%d",&a, &b, &n);
	
	area = 0.0;
	jaco1 = (b - a) / 2.0;
	jaco2 = (a + b) / 2.0;
	for (j = 1; j <= n; j++) {
		x = jaco1 * t[n - 2][j - 1] + jaco2;
		area += w[n - 2][j - 1] * f(x);
	}
	area = area * jaco1;
	printf("The Area is %25.10le\n", area);
}
